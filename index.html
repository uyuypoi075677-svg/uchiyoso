<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uchiyoso Maker - 3D Space</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />

<style>
    /* 基本設定 */
    :root {
        --text-main: #5a3d35;
        --text-sub: #8b6b61;
        --accent-pink: #ff9ebb;
        --accent-gradient: linear-gradient(135deg, #ff9ebb 0%, #ffc3d6 100%);
        --glass-bg: rgba(255, 255, 255, 0.15);
        --glass-border: rgba(255, 255, 255, 0.4);
        --glass-shine: rgba(255, 255, 255, 0.6);
        --glass-shadow: 0 8px 32px 0 rgba(90, 61, 53, 0.1);

        /* ▼ 設定：ドット絵キャラクターのサイズ ▼ */
        --walker-size: 64px; /* 画面上の表示サイズ */
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        text-decoration: none;
    }

    body {
        font-family: "Zen Maru Gothic", sans-serif;
        background-color: #fce4ec;
        background-image: url('images/background/fur-texture-pink.jpg');
        background-size: cover;
        background-position: center;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        color: var(--text-main);
        perspective: 1500px;
    }

    .ambient-light {
        position: absolute;
        width: 100%; height: 100%;
        background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.2) 0%, rgba(0,0,0,0.1) 100%);
        pointer-events: none;
        z-index: 0;
    }

    /* --- Bento Grid コンテナ --- */
    .bento-container {
        position: relative;
        z-index: 10;
        width: 1000px;
        max-width: 90%;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: auto auto auto;
        gap: 24px;
        transform: rotateX(5deg) translateY(-20px);
        transform-style: preserve-3d;
        transition: transform 0.5s ease;
    }

    /* --- グラスモーフィズムカード --- */
    .glass-card {
        background: var(--glass-bg);
        backdrop-filter: blur(40px) saturate(180%);
        -webkit-backdrop-filter: blur(40px) saturate(180%);
        border: 1px solid var(--glass-border);
        box-shadow: var(--glass-shadow), inset 0 0 0 1px rgba(255, 255, 255, 0.2), inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
        border-radius: 36px;
        padding: 24px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        transform: translateZ(0px);
        transform-style: preserve-3d;
    }

    .glass-card:hover {
        background: rgba(255, 255, 255, 0.25);
        border-color: var(--glass-shine);
        transform: translateZ(50px) scale(1.02);
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.1), inset 0 0 20px rgba(255, 255, 255, 0.5);
        z-index: 20;
    }

    .glass-card::before {
        content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        transform: skewX(-25deg); transition: 0.5s; pointer-events: none;
    }
    .glass-card:hover::before { left: 100%; transition: 0.7s ease-in-out; }

    /* エリア設定 */
    .area-profile {
        grid-column: span 2; grid-row: span 2; align-items: flex-start; text-align: left; padding: 40px;
        background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%);
    }
    .profile-header { display: flex; align-items: center; gap: 24px; margin-bottom: 24px; transform: translateZ(20px); }
    .avatar {
        width: 90px; height: 90px; border-radius: 50%;
        background-image: url('images/background/fur-texture-pink.jpg');
        background-size: cover; border: 4px solid rgba(255,255,255,0.8);
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    .site-title { font-size: 2.2rem; font-weight: 900; letter-spacing: 0.05em; color: var(--text-main); text-shadow: 0 2px 10px rgba(255,255,255,0.5); }
    .site-desc { font-size: 1rem; color: var(--text-main); opacity: 0.8; font-weight: 700; }
    .profile-text { font-size: 0.95rem; line-height: 1.8; color: var(--text-main); transform: translateZ(10px); }

    /* ダンシング・ティッカー */
    .area-ticker {
        grid-column: span 2; padding: 0; position: relative;
        background: rgba(255, 255, 255, 0.25); overflow: hidden;
        box-shadow: var(--glass-shadow), inset 0 0 20px rgba(255, 158, 187, 0.1);
    }
    .ticker-wrap {
        width: 100%; height: 100%; overflow: hidden; white-space: nowrap;
        mask-image: linear-gradient(to right, transparent 0%, black 15%, black 85%, transparent 100%);
        -webkit-mask-image: linear-gradient(to right, transparent 0%, black 15%, black 85%, transparent 100%);
        display: flex; align-items: center;
    }
    .ticker-content { display: inline-flex; align-items: center; animation: marquee 25s linear infinite; }
    .ticker-item {
        display: inline-flex; align-items: center; margin: 0 15px; font-weight: 900; font-size: 1.6rem;
        color: var(--accent-pink); text-transform: uppercase; letter-spacing: 0.1em;
        animation: dance 3s ease-in-out infinite;
    }
    .ticker-item:nth-child(odd) { animation-delay: 0s; color: #ff9ebb; }
    .ticker-item:nth-child(even) { animation-name: dance-reverse; animation-delay: -1.5s; color: #ffc3d6; }
    .ticker-item span { margin-right: 8px; font-size: 1.8rem; filter: drop-shadow(0 4px 0 rgba(255,255,255,0.6)); display: inline-block; animation: spin-icon 4s ease-in-out infinite; }
    .ticker-item.hollow { color: transparent; -webkit-text-stroke: 2px rgba(139, 107, 97, 0.4); opacity: 0.8; }

    /* ツールボタン */
    .area-tool { grid-column: span 1; aspect-ratio: 1 / 1; cursor: pointer; }
    .area-tool-wide { grid-column: span 2; aspect-ratio: auto; flex-direction: row; gap: 20px; justify-content: flex-start; padding-left: 40px; }
    .icon-circle {
        width: 64px; height: 64px; background: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        font-size: 32px; color: var(--accent-pink); margin-bottom: 12px;
        box-shadow: 0 10px 25px rgba(255, 158, 187, 0.2); transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); transform: translateZ(20px);
    }
    .area-tool:hover .icon-circle { background: var(--accent-pink); color: white; transform: translateZ(40px) scale(1.15) rotate(-10deg); box-shadow: 0 15px 30px rgba(255, 158, 187, 0.5); }
    .tool-info { transform: translateZ(10px); }
    .tool-label { font-weight: 800; font-size: 1.1rem; color: var(--text-main); }
    .tool-sub { font-size: 0.8rem; color: var(--text-sub); margin-top: 4px; }
    .badge {
        position: absolute; top: 20px; right: 20px; background: var(--accent-gradient); color: white;
        font-size: 0.75rem; padding: 6px 14px; border-radius: 50px; font-weight: bold;
        box-shadow: 0 5px 15px rgba(255, 158, 187, 0.5); animation: bounce 2s infinite; transform: translateZ(30px); border: 2px solid #fff;
    }

    /* シェアボタン */
    .area-share {
        grid-column: span 4; background: transparent; border: none; box-shadow: none; backdrop-filter: none; padding: 10px; display: flex; justify-content: center;
    }
    .btn-share-pill {
        padding: 14px 40px; background: rgba(255,255,255,0.7); backdrop-filter: blur(10px); border: 1px solid #fff; border-radius: 50px;
        font-weight: 800; color: var(--text-main); transition: 0.3s; display: flex; align-items: center; gap: 10px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05); transform: translateZ(0);
    }
    .btn-share-pill:hover { background: #fff; color: var(--accent-pink); transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 40px rgba(255, 158, 187, 0.3); }

    /* アニメーション定義 */
    @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    @keyframes dance {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        25% { transform: translateY(-6px) rotate(-3deg); }
        75% { transform: translateY(2px) rotate(2deg); }
    }
    @keyframes dance-reverse {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        25% { transform: translateY(6px) rotate(3deg); }
        75% { transform: translateY(-2px) rotate(-2deg); }
    }
    @keyframes spin-icon { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2) rotate(15deg); } }
    @keyframes bounce { 0%, 100% { transform: translateZ(30px) translateY(0); } 50% { transform: translateZ(30px) translateY(-5px); } }
    
    @keyframes entranceFadeUp { 0% { opacity: 0; transform: translateY(60px) scale(0.9); } 100% { opacity: 1; transform: translateY(0) scale(1); } }
    .glass-card, .area-share { opacity: 0; animation: entranceFadeUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
    .area-profile { animation-delay: 0.1s; } .area-ticker { animation-delay: 0.2s; } .area-tool-wide { animation-delay: 0.3s; }
    .glass-card:nth-of-type(4) { animation-delay: 0.4s; } .glass-card:nth-of-type(5) { animation-delay: 0.5s; }
    .glass-card:nth-of-type(6) { animation-delay: 0.6s; } .glass-card:nth-of-type(7) { animation-delay: 0.7s; } .area-share { animation-delay: 0.9s; }

    /* 背景パーティクル */
    .floating-particle {
        position: absolute; border-radius: 50%; filter: blur(8px); opacity: 0.6; animation: floatUp 15s linear infinite; z-index: -1; pointer-events: none;
    }
    @keyframes floatUp {
        0% { transform: translateY(110vh) translateX(0) rotate(0deg); opacity: 0; }
        10% { opacity: 0.6; } 90% { opacity: 0.6; }
        100% { transform: translateY(-20vh) translateX(20px) rotate(360deg); opacity: 0; }
    }

    /* ぬいぐるみ */
    .floating-mascot {
        position: fixed; bottom: 40px; right: 40px; width: 140px; height: auto; z-index: 100; cursor: pointer;
        animation: playful-float 7s ease-in-out infinite; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .floating-mascot img { width: 100%; height: auto; display: block; filter: drop-shadow(0 8px 20px rgba(90, 61, 53, 0.25)); transition: filter 0.3s ease; }
    .floating-mascot:hover { transform: scale(1.15) rotate(10deg); animation: playful-excited 0.8s ease-in-out infinite alternate; }
    .floating-mascot:hover img { filter: drop-shadow(0 12px 25px rgba(255, 158, 187, 0.4)); }
    @keyframes playful-float {
        0%, 100% { transform: translate(0, 0) rotate(0deg); } 20% { transform: translate(-10px, -15px) rotate(-4deg); }
        40% { transform: translate(5px, -5px) rotate(2deg); } 60% { transform: translate(-5px, 8px) rotate(-2deg); } 80% { transform: translate(8px, -10px) rotate(4deg); }
    }
    @keyframes playful-excited { 0% { transform: scale(1.15) rotate(10deg) translate(0, 0); } 100% { transform: scale(1.15) rotate(12deg) translate(4px, -4px); } }

    /* --- ▼▼▼ ドット絵キャラクター（歩く演出・修正版） ▼▼▼ --- */
    .pixel-walker {
        position: fixed;
        bottom: 20px;
        z-index: 90;
        display: block;
        width: var(--walker-size);
        height: var(--walker-size);
        left: -200px;
        cursor: pointer;
        pointer-events: none;
        transition: transform 0.2s ease;
    }
    
    .pixel-walker:hover {
        transform: translateY(-5px);
    }

    .pixel-walker .sprite {
        width: 100%;
        height: 100%;
        /* ★パス変更：指定の場所にある画像を参照 */
        background-image: url('images/hoko/mahiru.png'); 
        
        background-size: 300% 400%; 
        background-repeat: no-repeat;
        image-rendering: pixelated;
        
        /* ★修正済み：画像が消えないよう step-start を使用 */
        animation: walk-cycle 0.8s step-start infinite;
    }

    /* 向きの定義 */
    .pixel-walker[data-facing="front"] .sprite { background-position-y: 0%; animation: none; }
    .pixel-walker[data-facing="left"] .sprite  { background-position-y: 33.33%; }
    .pixel-walker[data-facing="right"] .sprite { background-position-y: 66.66%; }

    /* ★修正済み：コマ送りをパーセンテージで明示指定 */
    @keyframes walk-cycle {
        0% { background-position-x: 0%; }   /* 1コマ目（左） */
        33% { background-position-x: 50%; }  /* 2コマ目（中） */
        66% { background-position-x: 100%; } /* 3コマ目（右） */
    }

    /* レスポンシブ */
    @media (max-width: 768px) {
        .bento-container { grid-template-columns: 1fr 1fr; width: 95%; padding-bottom: 50px; transform: none; }
        .area-profile { grid-column: span 2; text-align: center; align-items: center; }
        .profile-header { flex-direction: column; }
        .area-stats { grid-column: span 2; }
        .area-tool-wide { grid-column: span 2; justify-content: center; padding-left: 0; }
        .area-tool-wide .tool-info { text-align: left; }
        body { overflow-y: auto; height: auto; display: block; padding-top: 50px; }
        .floating-mascot { width: 90px; bottom: 20px; right: 20px; }
        /* スマホでのウォーカーサイズ調整 */
        :root { --walker-size: 48px; }
    }
</style>
</head>
<body>

    <div class="ambient-light"></div>
    <div class="bento-container">
        
        <div class="glass-card area-profile">
            <div class="profile-header">
                <div class="avatar"></div>
                <div>
                    <h1 class="site-title">Uchiyoso Maker</h1>
                    <p class="site-desc">あなたの「うちよそ」を、もっと特別に。</p>
                </div>
            </div>
            <p class="profile-text">
                創作活動を支援するデザインツールセット。<br>
                美しい関係性グラフやSSを、<br>
                まるで魔法のように直感的に作成できます。
            </p>
        </div>

        <div class="glass-card area-ticker">
            <div class="ticker-wrap">
                <div class="ticker-content">
                    <div class="ticker-item"><span>♥</span>LOVE</div>
                    <div class="ticker-item hollow">CREATION</div>
                    <div class="ticker-item"><span>★</span>DREAM</div>
                    <div class="ticker-item hollow">STORY</div>
                    <div class="ticker-item"><span>♦</span>RELATION</div>
                    <div class="ticker-item hollow">UCHIYOSO</div>
                    
                    <div class="ticker-item"><span>♥</span>LOVE</div>
                    <div class="ticker-item hollow">CREATION</div>
                    <div class="ticker-item"><span>★</span>DREAM</div>
                    <div class="ticker-item hollow">STORY</div>
                    <div class="ticker-item"><span>♦</span>RELATION</div>
                    <div class="ticker-item hollow">UCHIYOSO</div>
                </div>
            </div>
        </div>

        <a href="bunpumaker/index.html" class="glass-card area-tool area-tool-wide">
            <span class="badge">NEW Update</span>
            <div class="icon-circle">
                <span class="material-symbols-rounded">bar_chart</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">分布図を作る</div>
                <div class="tool-sub">探索者を分布分けしよう</div>
            </div>
        </a>

        <a href="snsmaker/index.html" class="glass-card area-tool">
            <div class="icon-circle">
                <span class="material-symbols-rounded">image</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">snsメーカー</div>
            </div>  
        </a>

        <a href="#" class="glass-card area-tool">
            <div class="icon-circle">
                <span class="material-symbols-rounded">edit_note</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">SSエディタ</div>
            </div>
        </a>

        <a href="labelmaker/index.html" class="glass-card area-tool">
            <span class="badge" style="top: 10px; right: 10px; font-size: 0.6rem; padding: 4px 10px;">NEW</span>
            <div class="icon-circle">
                <span class="material-symbols-rounded">style</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">ラベルメーカー</div>
            </div>
        </a>

        <a href="backclear/index.html" class="glass-card area-tool">
            <span class="badge" style="top: 10px; right: 10px; font-size: 0.6rem; padding: 4px 10px; background: linear-gradient(135deg, #a8cce8 0%, #8ec5fc 100%);">NEW</span>
            <div class="icon-circle">
                <span class="material-symbols-rounded">layers_clear</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">背景除去</div>
            </div>
        </a>

        <a href="calendarmaker/index.html" class="glass-card area-tool">
            <span class="badge" style="top: 10px; right: 10px; font-size: 0.6rem; padding: 4px 10px; background: linear-gradient(135deg, #ffe082 0%, #ffca28 100%); color: #5a3d35;">NEW</span>
            <div class="icon-circle">
                <span class="material-symbols-rounded">calendar_month</span>
            </div>
            <div class="tool-info">
                <div class="tool-label">カレンダー</div>
                <div class="tool-sub">日付を彩る</div>
            </div>
        </a>

        <div class="area-share">
            <a href="#" class="btn-share-pill">
                <span class="material-symbols-rounded">share</span>
                ページをシェアする
            </a>
        </div>

    </div>

    <a href="badohuro/index.html" class="floating-mascot">
        <img src="images/icons/nui1.png" alt="遊んでいるぬいぐるみ">
    </a>

    <a href="mahiruheya/index.html" target="_blank" id="pixel-walker" class="pixel-walker" data-facing="right">
        <div class="sprite"></div>
    </a>

    <script>
    // --- 背景パーティクル ---
    function createParticles() {
        const colors = ['#ff9ebb', '#a8cce8', '#ffffff'];
        const count = 12; 
        for(let i=0; i < count; i++) {
            const span = document.createElement('span');
            span.classList.add('floating-particle');
            const sizeValue = Math.random() * 60 + 20;
            span.style.width = sizeValue + 'px';
            span.style.height = sizeValue + 'px';
            span.style.left = Math.random() * 100 + '%';
            span.style.top = Math.random() * 100 + 'vh';
            span.style.background = colors[Math.floor(Math.random() * colors.length)];
            const duration = Math.random() * 10 + 15;
            const delay = Math.random() * 10;
            span.style.animationDuration = duration + 's';
            span.style.animationDelay = '-' + delay + 's';
            document.body.appendChild(span);
        }
    }
    createParticles();

    // --- ドット絵キャラ出現制御スクリプト ---
    document.addEventListener('DOMContentLoaded', () => {
        const walker = document.getElementById('pixel-walker');
        
        // 設定
        const walkSpeed = 3500; 
        const stayTime = 1500;  
        const minInterval = 8000; 
        const randomInterval = 15000;

        function startWalkerSequence() {
            const w = window.innerWidth;
            const walkerWidth = walker.offsetWidth;
            
            const fromRight = Math.random() > 0.5;
            const startX = fromRight ? (w + walkerWidth) : (-walkerWidth * 2);
            const targetX = fromRight ? (w - 120) : (80); 

            walker.style.transition = 'none';
            walker.style.left = startX + 'px';
            walker.setAttribute('data-facing', fromRight ? 'left' : 'right');
            walker.style.pointerEvents = 'auto'; 

            void walker.offsetWidth;

            walker.style.transition = `left ${walkSpeed}ms linear`;
            walker.style.left = targetX + 'px';

            setTimeout(() => {
                walker.setAttribute('data-facing', 'front');

                setTimeout(() => {
                    walker.setAttribute('data-facing', fromRight ? 'right' : 'left');
                    walker.style.left = startX + 'px';

                    setTimeout(() => {
                        walker.style.pointerEvents = 'none';
                        scheduleNextWalk();
                    }, walkSpeed);

                }, stayTime);

            }, walkSpeed);
        }

        function scheduleNextWalk() {
            const nextTime = minInterval + Math.random() * randomInterval;
            setTimeout(startWalkerSequence, nextTime);
        }

        setTimeout(scheduleNextWalk, 2000);
    });
    </script>

</body>
</html>




